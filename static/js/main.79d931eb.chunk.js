(this["webpackJsonproom-system-frontend"]=this["webpackJsonproom-system-frontend"]||[]).push([[0],{197:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(79),c=n.n(i),r=(n(92),n(56)),l=n(9),d=n(14),o=n(34);n(93),n(95);o.a.initializeApp({apiKey:"AIzaSyDgkUWXFV25qNkSICMSUMavPo648VTwA8k",authDomain:"room-system-firebase.firebaseapp.com",databaseURL:"https://room-system-firebase.firebaseio.com",projectId:"room-system-firebase",storageBucket:"room-system-firebase.appspot.com",messagingSenderId:"918701774845",appId:"1:918701774845:web:460a0cc64b03748d516b94"});o.a.auth(),o.a.database();var j=o.a,u=n(42),b=n(4);var m=function(e){var t=Object(u.a)(j.auth()),n=Object(d.a)(t,3),a=n[0],s=n[1],i=n[2];return s?Object(b.jsx)("div",{children:"Loading..."}):null!=i?Object(b.jsxs)("div",{children:["Error: ",i]}):null==a?Object(b.jsx)(l.a,{to:"/signin"}):Object(b.jsx)("div",{className:"FirebaseAuth",children:e.children})},h=n(207),x=n(59),O=n(25),p=n(87),f=n(44),g=n(200),v=n(201),y=n(202),N=n(203),S=n(204),k=n(205),w=n(206),C=f.a().shape({email:f.b().email().required(),password:f.b().required()});var I=function(e){var t,n,a,s,i=Object(O.d)({resolver:Object(p.a)(C)}),c=i.register,r=i.handleSubmit,l=i.formState,d=l.isSubmitting,o=l.touchedFields,u=l.errors;return Object(b.jsxs)(g.a,{onSubmit:r((function(t){j.auth().signInWithEmailAndPassword(t.email,t.password).then((function(t){e.onSignedIn()})).catch((function(e){alert(e)}))})),children:[Object(b.jsxs)(v.a,{className:"my-2",children:[Object(b.jsx)(y.a,{for:"email",children:"Email"}),Object(b.jsx)(N.a,Object(x.a)({type:"email",defaultValue:"",invalid:!(null==o.email||null==u.email)},c("email",{required:!0}))),Object(b.jsx)(S.a,{children:null!==(t=null===(n=u.email)||void 0===n?void 0:n.message)&&void 0!==t?t:""})]}),Object(b.jsxs)(v.a,{className:"my-2",children:[Object(b.jsx)(y.a,{for:"password",children:"Password"}),Object(b.jsx)(N.a,Object(x.a)({type:"password",defaultValue:"",invalid:!(null==o.password||null==u.password)},c("password",{required:!0}))),Object(b.jsx)(S.a,{children:null!==(a=null===u||void 0===u||null===(s=u.password)||void 0===s?void 0:s.message)&&void 0!==a?a:""})]}),Object(b.jsx)(k.a,{size:"sm",color:"light",hidden:!d}),Object(b.jsx)(w.a,{className:"my-2",color:"primary",type:"submit",disabled:d,children:"Login"})]})};var L=Object(l.g)((function(e){var t=Object(u.a)(j.auth()),n=Object(d.a)(t,3),a=n[0],s=n[1],i=n[2];return null!=a&&e.history.push("/"),Object(b.jsx)("div",{className:"SignIn",children:Object(b.jsxs)(h.a,{className:"mt-4",children:[Object(b.jsx)("h3",{children:"Sign In"}),s?Object(b.jsx)("p",{children:"Loading..."}):null!=i?Object(b.jsxs)("p",{children:["Error: ",i]}):null!=a?Object(b.jsxs)("p",{children:["(Redirecting) Signed In: ",a.uid]}):Object(b.jsx)(I,{onSignedIn:function(){}})]})})})),A=n(85),F=n(86);n(196);var M=function(){var e=Object(a.useState)(12),t=Object(d.a)(e,2),n=t[0],s=t[1],i=j.database().ref("sensor").child("environment").orderByChild("timestamp").limitToLast(n),c=Object(A.a)(i),r=Object(d.a)(c,3),l=r[0],o=r[1],u=r[2];if(o)return Object(b.jsx)("div",{className:"Loading",children:"Loading..."});if(null!=u)return Object(b.jsxs)("div",{children:["Error: ",u]});if(null==l)return Object(b.jsx)("div",{children:"No data"});var m={labels:l.map((function(e){return e.timestamp})),datasets:[{label:"\u660e\u308b\u3055",yAxisID:"light",data:l.map((function(e){return e.light})),fill:!0,lineTension:!1},{label:"\u5ba4\u6e29",yAxisID:"temperature",data:l.map((function(e){return e.temperatureCelsius}))}]};return Object(b.jsxs)("div",{className:"SensorChart",children:[Object(b.jsx)("div",{className:"chart",children:Object(b.jsx)(F.Line,{data:m,options:{scales:{xAxes:[{type:"time",time:{displayFormats:{minute:"HH:mm"}}}],yAxes:[{id:"light",position:"left",scaleLabel:{display:!0,labelString:"\u660e\u308b\u3055\uff08\u96fb\u5727\u5024\u22661023\uff09"},ticks:{suggestedMin:0,suggestedMax:1023}},{id:"temperature",position:"right",scaleLabel:{display:!0,labelString:"\u5ba4\u6e29\uff08\u6442\u6c0f\uff09"},ticks:{suggestedMin:10,suggestedMax:30}}]}}})}),Object(b.jsxs)("div",{className:"my-3 d-flex justify-content-center",children:[Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(12)},children:"3h"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(24)},children:"6h"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(48)},children:"12h"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(96)},children:"24h"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(288)},children:"3d"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(672)},children:"7d"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(1344)},children:"2w"}),Object(b.jsx)(w.a,{className:"mx-2 btn-secondary",onClick:function(){return s(2688)},children:"4w"})]})]})};var E=function(){return Object(b.jsx)("div",{className:"Home",children:Object(b.jsx)(M,{})})};n(197);var q=function(){return Object(b.jsx)(r.a,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{exact:!0,path:"/signin",component:L}),Object(b.jsx)(m,{children:Object(b.jsx)(l.d,{children:Object(b.jsx)(l.b,{exact:!0,path:"/",component:E})})})]})})},D=function(e){null!=e&&e instanceof Function&&n.e(3).then(n.bind(null,208)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)})).catch((function(){}))};n(198);c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root")),D()},92:function(e,t,n){}},[[199,1,2]]]);
//# sourceMappingURL=main.79d931eb.chunk.js.map
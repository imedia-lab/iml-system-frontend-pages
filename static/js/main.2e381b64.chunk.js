(this["webpackJsonproom-system-frontend"]=this["webpackJsonproom-system-frontend"]||[]).push([[0],{131:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(70),s=n.n(r),c=(n(131),n(95)),l=n(9),o=n(38),d=n(71),u=n.n(d),j=n(62);n(144),n(146);j.a.initializeApp({apiKey:"AIzaSyDgkUWXFV25qNkSICMSUMavPo648VTwA8k",authDomain:"room-system-firebase.firebaseapp.com",databaseURL:"https://room-system-firebase.firebaseio.com",projectId:"room-system-firebase",storageBucket:"room-system-firebase.appspot.com",messagingSenderId:"918701774845",appId:"1:918701774845:web:460a0cc64b03748d516b94"});j.a.auth(),j.a.database();var b=j.a,h=n(59),m=n(4);var p=function(e){var t=Object(h.a)(b.auth()),n=Object(o.a)(t,3),i=n[0],a=n[1],r=n[2];return a?Object(m.jsx)(u.a,{active:!0,spinner:!0,text:"Loading..."}):null!=r?Object(m.jsxs)("div",{children:["Error: ",r]}):null==i?Object(m.jsx)(l.a,{to:"/signin"}):Object(m.jsx)("div",{className:"FirebaseAuth",children:e.children})},x=n(248),O=n(249),f=n(250),g=n(251),v=n(252),y=n(253),w=n(254),C=n(126),k=n(83);function S(e){var t,n,i=Object(h.a)(b.auth()),a=Object(o.a)(i,2)[1];return Object(m.jsxs)(x.a,{onSubmit:e.handleSubmit,children:[Object(m.jsxs)(O.a,{children:[Object(m.jsx)(f.a,{for:"email",children:"Email"}),Object(m.jsx)(g.a,{type:"email",name:"email",id:"email",value:null!==(t=e.values.email)&&void 0!==t?t:"",onChange:e.handleChange,onBlur:e.handleBlur,invalid:!(null==e.touched.email||null==e.errors.email)}),Object(m.jsx)(v.a,{children:null!==(n=e.errors.email)&&void 0!==n?n:""})]}),Object(m.jsxs)(O.a,{children:[Object(m.jsx)(f.a,{for:"password",children:"Password"}),Object(m.jsx)(g.a,{type:"password",name:"password",id:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,invalid:!(null==e.touched.password||null==e.errors.password)}),Object(m.jsx)(v.a,{children:e.errors.password})]}),Object(m.jsxs)(y.a,{color:"primary",type:"submit",disabled:a,children:[Object(m.jsx)(w.a,{size:"sm",color:"light",hidden:!a}),"\u30ed\u30b0\u30a4\u30f3"]})]})}var I=Object(l.g)((function(e){var t=Object(h.a)(b.auth()),n=Object(o.a)(t,3),i=n[0],a=n[1],r=n[2];return a?Object(m.jsx)(u.a,{active:!0,spinner:!0,text:"Loading..."}):null!=r?Object(m.jsxs)("div",{children:["Error: ",r]}):null!=i?(e.history.push("/"),Object(m.jsxs)("div",{children:["Signed In: ",i.uid]})):Object(m.jsx)(C.a,{initialValues:{email:"",password:""},onSubmit:function(e){return function(e){b.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){})).catch((function(e){alert(e)}))}(e)},validationSchema:k.a().shape({email:k.b().email().required(),password:k.b().required()}),children:S})})),L=n(124),A=n(125);n(244);var B=function(){var e=Object(i.useState)(12),t=Object(o.a)(e,2),n=t[0],a=t[1],r=b.database().ref("sensor").child("environment").orderByChild("timestamp").limitToLast(n),s=Object(L.a)(r),c=Object(o.a)(s,3),l=c[0],d=c[1],u=c[2];if(d)return Object(m.jsx)("div",{className:"Loading",children:"Loading..."});if(null!=u)return Object(m.jsxs)("div",{children:["Error: ",u]});if(null==l)return Object(m.jsx)("div",{children:"No data"});var j={labels:l.map((function(e){return e.timestamp})),datasets:[{label:"\u660e\u308b\u3055",yAxisID:"light",data:l.map((function(e){return e.light})),fill:!0,lineTension:!1},{label:"\u5ba4\u6e29",yAxisID:"temperature",data:l.map((function(e){return e.temperatureCelsius}))}]};return Object(m.jsxs)("div",{className:"SensorChart",children:[Object(m.jsx)("div",{className:"chart",children:Object(m.jsx)(A.Line,{data:j,options:{scales:{xAxes:[{type:"time",time:{displayFormats:{minute:"HH:mm"}}}],yAxes:[{id:"light",position:"left",scaleLabel:{display:!0,labelString:"\u660e\u308b\u3055\uff08\u96fb\u5727\u5024\u22661023\uff09"},ticks:{suggestedMin:0,suggestedMax:1023}},{id:"temperature",position:"right",scaleLabel:{display:!0,labelString:"\u5ba4\u6e29\uff08\u6442\u6c0f\uff09"},ticks:{suggestedMin:10,suggestedMax:30}}]}}})}),Object(m.jsx)("button",{onClick:function(){return a(12)},children:"3h"}),Object(m.jsx)("button",{onClick:function(){return a(24)},children:"6h"}),Object(m.jsx)("button",{onClick:function(){return a(48)},children:"12h"}),Object(m.jsx)("button",{onClick:function(){return a(96)},children:"24h"}),Object(m.jsx)("button",{onClick:function(){return a(288)},children:"3d"}),Object(m.jsx)("button",{onClick:function(){return a(672)},children:"7d"}),Object(m.jsx)("button",{onClick:function(){return a(1344)},children:"2w"}),Object(m.jsx)("button",{onClick:function(){return a(2688)},children:"4w"})]})};var F=function(){return Object(m.jsx)("div",{className:"Home",children:Object(m.jsx)(B,{})})};n(245);var M=function(){return Object(m.jsx)(c.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/signin",component:I}),Object(m.jsx)(p,{children:Object(m.jsx)(l.d,{children:Object(m.jsx)(l.b,{exact:!0,path:"/",component:F})})})]})})},N=function(e){null!=e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)})).catch((function(){}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),N()}},[[246,1,2]]]);
//# sourceMappingURL=main.2e381b64.chunk.js.map